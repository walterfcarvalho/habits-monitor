import React from 'react'
import ReactDOM from 'react-dom/client'
import { Routes, Route, unstable_HistoryRouter as HistoryRouter } from "react-router-dom"
import { createBrowserHistory } from "history"
//import { initializeApp } from "firebase/app"
//import { firebaseConfig } from './Firebase/config'


import LockedRoute from './Components/ProtectedRoute/Index'
import Login from './Components/Login'
import { GlobalStyle } from './Components/globalStyle'
import Dasboard from './Components/Dasboard'
import UserIndicators from './Components/UserIndicators/index.jsx'
import Activities from './Components/Activities'


// Initialize Firebase
// const appFire = initializeApp(firebaseConfig)

// Initialize React
const root = ReactDOM.createRoot(document.getElementById('root'))
const history = createBrowserHistory({ window })

const theTheme = { type:getTheme()}

function setTheme() {
  console.log(theTheme)
  localStorage.setItem('theme', !theTheme.type )
  theTheme.type = !theTheme.type
}

root.render(
  <React.StrictMode>
    <GlobalStyle />

      <HistoryRouter history={history}>
        <Routes>
          <Route path="/login" element={<Login />} />

          <Route path="/dashboard" element={<LockedRoute child={<Dasboard theTheme={theTeme} setTheme={setTheme}  />} />} />

          <Route path="/userindicators" element={<LockedRoute child={<UserIndicators />} />} />

          <Route path="/activities" element={<LockedRoute child={<Activities />} />} />

          <Route path="*" element={<Login />} />
        </Routes>
      </ HistoryRouter>
  </React.StrictMode>
)
